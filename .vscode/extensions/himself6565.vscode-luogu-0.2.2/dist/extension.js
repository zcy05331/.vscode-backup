"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0});var vscode=require("vscode"),marked=_interopDefault(require("marked")),http=_interopDefault(require("http")),https=_interopDefault(require("https")),url=_interopDefault(require("url")),assert=_interopDefault(require("assert")),stream=_interopDefault(require("stream")),tty=_interopDefault(require("tty")),util=_interopDefault(require("util")),os=_interopDefault(require("os")),zlib=_interopDefault(require("zlib"));function __awaiter(e,t,r,n){return new(r||(r=Promise))(function(o,s){function i(e){try{u(n.next(e))}catch(e){s(e)}}function a(e){try{u(n.throw(e))}catch(e){s(e)}}function u(e){e.done?o(e.value):new r(function(t){t(e.value)}).then(i,a)}u((n=n.apply(e,t||[])).next())})}const isDev="development"===process.env.NODE_ENV;let time=0;function debug(e,...t){isDev&&(0!==time&&(time=Date.now()-time),console.log(`${e} ${time?`// ${time}ms`:""}`,...t),time=Date.now())}class SuperCommand{constructor(e){this.callback=(()=>{debug(`${this.onCommand} start.`),this.handle(),debug(`${this.onCommand} end.`)}),Object.assign(this,e)}}var bind=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}},isBuffer_1=function(e){return null!=e&&(isBuffer(e)||isSlowBuffer(e)||!!e._isBuffer)};function isBuffer(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isSlowBuffer(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&isBuffer(e.slice(0,0))}var toString=Object.prototype.toString;function isArray(e){return"[object Array]"===toString.call(e)}function isArrayBuffer(e){return"[object ArrayBuffer]"===toString.call(e)}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function isString(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isUndefined(e){return void 0===e}function isObject(e){return null!==e&&"object"==typeof e}function isDate(e){return"[object Date]"===toString.call(e)}function isFile(e){return"[object File]"===toString.call(e)}function isBlob(e){return"[object Blob]"===toString.call(e)}function isFunction(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject(e)&&isFunction(e.pipe)}function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}function merge(){var e={};function t(t,r){"object"==typeof e[r]&&"object"==typeof t?e[r]=merge(e[r],t):e[r]=t}for(var r=0,n=arguments.length;r<n;r++)forEach(arguments[r],t);return e}function extend(e,t,r){return forEach(t,function(t,n){e[n]=r&&"function"==typeof t?bind(t,r):t}),e}var utils={isArray:isArray,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer_1,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString,isNumber:isNumber,isObject:isObject,isUndefined:isUndefined,isDate:isDate,isFile:isFile,isBlob:isBlob,isFunction:isFunction,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge,extend:extend,trim:trim},normalizeHeaderName=function(e,t){utils.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})},enhanceError=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e},createError=function(e,t,r,n,o){var s=new Error(e);return enhanceError(s,t,r,n,o)},settle=function(e,t,r){var n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(createError("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)};function encode(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(e,t,r){if(!t)return e;var n;if(r)n=r(t);else if(utils.isURLSearchParams(t))n=t.toString();else{var o=[];utils.forEach(t,function(e,t){null!=e&&(utils.isArray(e)?t+="[]":e=[e],utils.forEach(e,function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),o.push(encode(t)+"="+encode(e))}))}),n=o.join("&")}return n&&(e+=(-1===e.indexOf("?")?"?":"&")+n),e},ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders=function(e){var t,r,n,o={};return e?(utils.forEach(e.split("\n"),function(e){if(n=e.indexOf(":"),t=utils.trim(e.substr(0,n)).toLowerCase(),r=utils.trim(e.substr(n+1)),t){if(o[t]&&ignoreDuplicateOf.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([r]):o[t]?o[t]+", "+r:r}}),o):o},isURLSameOrigin=utils.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function n(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=n(window.location.href),function(t){var r=utils.isString(t)?n(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0},chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function E(){this.message="String contains an invalid character"}function btoa(e){for(var t,r,n=String(e),o="",s=0,i=chars;n.charAt(0|s)||(i="=",s%1);o+=i.charAt(63&t>>8-s%1*8)){if((r=n.charCodeAt(s+=.75))>255)throw new E;t=t<<8|r}return o}E.prototype=new Error,E.prototype.code=5,E.prototype.name="InvalidCharacterError";var btoa_1=btoa,cookies=utils.isStandardBrowserEnv()?{write:function(e,t,r,n,o,s){var i=[];i.push(e+"="+encodeURIComponent(t)),utils.isNumber(r)&&i.push("expires="+new Date(r).toGMTString()),utils.isString(n)&&i.push("path="+n),utils.isString(o)&&i.push("domain="+o),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},btoa$1="undefined"!=typeof window&&window.btoa&&window.btoa.bind(window)||btoa_1,xhr=function(e){return new Promise(function(t,r){var n=e.data,o=e.headers;utils.isFormData(n)&&delete o["Content-Type"];var s=new XMLHttpRequest,i="onreadystatechange",a=!1;if("test"===process.env.NODE_ENV||"undefined"==typeof window||!window.XDomainRequest||"withCredentials"in s||isURLSameOrigin(e.url)||(s=new window.XDomainRequest,i="onload",a=!0,s.onprogress=function(){},s.ontimeout=function(){}),e.auth){var u=e.auth.username||"",c=e.auth.password||"";o.Authorization="Basic "+btoa$1(u+":"+c)}if(s.open(e.method.toUpperCase(),buildURL(e.url,e.params,e.paramsSerializer),!0),s.timeout=e.timeout,s[i]=function(){if(s&&(4===s.readyState||a)&&(0!==s.status||s.responseURL&&0===s.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in s?parseHeaders(s.getAllResponseHeaders()):null,o={data:e.responseType&&"text"!==e.responseType?s.response:s.responseText,status:1223===s.status?204:s.status,statusText:1223===s.status?"No Content":s.statusText,headers:n,config:e,request:s};settle(t,r,o),s=null}},s.onerror=function(){r(createError("Network Error",e,null,s)),s=null},s.ontimeout=function(){r(createError("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",s)),s=null},utils.isStandardBrowserEnv()){var l=cookies,p=(e.withCredentials||isURLSameOrigin(e.url))&&e.xsrfCookieName?l.read(e.xsrfCookieName):void 0;p&&(o[e.xsrfHeaderName]=p)}if("setRequestHeader"in s&&utils.forEach(o,function(e,t){void 0===n&&"content-type"===t.toLowerCase()?delete o[t]:s.setRequestHeader(t,e)}),e.withCredentials&&(s.withCredentials=!0),e.responseType)try{s.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&s.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&s.upload&&s.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){s&&(s.abort(),r(e),s=null)}),void 0===n&&(n=null),s.send(n)})};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}function getCjsExportFromNamespace(e){return e&&e.default||e}var s=1e3,m=60*s,h=60*m,d=24*h,w=7*d,y=365.25*d,ms=function(e,t){t=t||{};var r=typeof e;if("string"===r&&e.length>0)return parse(e);if("number"===r&&!1===isNaN(e))return t.long?fmtLong(e):fmtShort(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){if(!((e=String(e)).length>100)){var t=/^((?:\d+)?\-?\d?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return r*y;case"weeks":case"week":case"w":return r*w;case"days":case"day":case"d":return r*d;case"hours":case"hour":case"hrs":case"hr":case"h":return r*h;case"minutes":case"minute":case"mins":case"min":case"m":return r*m;case"seconds":case"second":case"secs":case"sec":case"s":return r*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function fmtShort(e){var t=Math.abs(e);return t>=d?Math.round(e/d)+"d":t>=h?Math.round(e/h)+"h":t>=m?Math.round(e/m)+"m":t>=s?Math.round(e/s)+"s":e+"ms"}function fmtLong(e){var t=Math.abs(e);return t>=d?plural(e,t,d,"day"):t>=h?plural(e,t,h,"hour"):t>=m?plural(e,t,m,"minute"):t>=s?plural(e,t,s,"second"):e+" ms"}function plural(e,t,r,n){var o=t>=1.5*r;return Math.round(e/r)+" "+n+(o?"s":"")}function setup(e){function t(e){for(var t=0,n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){var s;function i(){if(i.enabled){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=i,a=Number(new Date),u=a-(s||a);o.diff=u,o.prev=s,o.curr=a,s=a,t[0]=r.coerce(t[0]),"string"!=typeof t[0]&&t.unshift("%O");var c=0;t[0]=t[0].replace(/%([a-zA-Z%])/g,function(e,n){if("%%"===e)return e;c++;var s=r.formatters[n];if("function"==typeof s){var i=t[c];e=s.call(o,i),t.splice(c,1),c--}return e}),r.formatArgs.call(o,t),(o.log||r.log).apply(o,t)}}return i.namespace=e,i.enabled=r.enabled(e),i.useColors=r.useColors(),i.color=t(e),i.destroy=n,i.extend=o,"function"==typeof r.init&&r.init(i),r.instances.push(i),i}function n(){var e=r.instances.indexOf(this);return-1!==e&&(r.instances.splice(e,1),!0)}function o(e,t){return r(this.namespace+(void 0===t?":":t)+e)}return r.debug=r,r.default=r,r.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},r.disable=function(){r.enable("")},r.enable=function(e){var t;r.save(e),r.names=[],r.skips=[];var n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.substr(1)+"$")):r.names.push(new RegExp("^"+e+"$")));for(t=0;t<r.instances.length;t++){var s=r.instances[t];s.enabled=r.enabled(s.namespace)}},r.enabled=function(e){if("*"===e[e.length-1])return!0;var t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1},r.humanize=ms,Object.keys(e).forEach(function(t){r[t]=e[t]}),r.instances=[],r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}var common=setup,browser=createCommonjsModule(function(e,t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}t.log=function(){var e;return"object"===("undefined"==typeof console?"undefined":r(console))&&console.log&&(e=console).log.apply(e,arguments)},t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;var r="color: "+this.color;t.splice(1,0,r,"color: inherit");var n=0,o=0;t[0].replace(/%[a-zA-Z%]/g,function(e){"%%"!==e&&(n++,"%c"===e&&(o=n))}),t.splice(o,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){var e;try{e=t.storage.getItem("debug")}catch(e){}!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.exports=common(t),e.exports.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}),browser_1=browser.log,browser_2=browser.formatArgs,browser_3=browser.save,browser_4=browser.load,browser_5=browser.useColors,browser_6=browser.storage,browser_7=browser.colors,hasFlag=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":1===e.length?"-":"--",n=t.indexOf(r+e),o=t.indexOf("--");return-1!==n&&(-1===o||n<o)};const{env:env}=process;let forceColor;function translateLevel(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function supportsColor(e){if(0===forceColor)return 0;if(hasFlag("color=16m")||hasFlag("color=full")||hasFlag("color=truecolor"))return 3;if(hasFlag("color=256"))return 2;if(e&&!e.isTTY&&void 0===forceColor)return 0;const t=forceColor||0;if("dumb"===env.TERM)return t;if("win32"===process.platform){const e=os.release().split(".");return Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in env)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some(e=>e in env)||"codeship"===env.CI_NAME?1:t;if("TEAMCITY_VERSION"in env)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(env.TEAMCITY_VERSION)?1:0;if("truecolor"===env.COLORTERM)return 3;if("TERM_PROGRAM"in env){const e=parseInt((env.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(env.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(env.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(env.TERM)?1:"COLORTERM"in env?1:t}function getSupportLevel(e){return translateLevel(supportsColor(e))}hasFlag("no-color")||hasFlag("no-colors")||hasFlag("color=false")||hasFlag("color=never")?forceColor=0:(hasFlag("color")||hasFlag("colors")||hasFlag("color=true")||hasFlag("color=always"))&&(forceColor=1),"FORCE_COLOR"in env&&(forceColor=!0===env.FORCE_COLOR||"true"===env.FORCE_COLOR?1:!1===env.FORCE_COLOR||"false"===env.FORCE_COLOR?0:0===env.FORCE_COLOR.length?1:Math.min(parseInt(env.FORCE_COLOR,10),3));var supportsColor_1={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)},node=createCommonjsModule(function(e,t){t.init=function(e){e.inspectOpts={};for(var r=Object.keys(t.inspectOpts),n=0;n<r.length;n++)e.inspectOpts[r[n]]=t.inspectOpts[r[n]]},t.log=function(){return process.stderr.write(util.format.apply(util,arguments)+"\n")},t.formatArgs=function(r){var n=this.namespace;if(this.useColors){var o=this.color,s="[3"+(o<8?o:"8;5;"+o),i="  ".concat(s,";1m").concat(n," [0m");r[0]=i+r[0].split("\n").join("\n"+i),r.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else r[0]=function(){if(t.inspectOpts.hideDate)return"";return(new Date).toISOString()+" "}()+n+" "+r[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):tty.isatty(process.stderr.fd)},t.colors=[6,2,3,4,5,1];try{var r=supportsColor_1;r&&(r.stderr||r).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter(function(e){return/^debug_/i.test(e)}).reduce(function(e,t){var r=t.substring(6).toLowerCase().replace(/_([a-z])/g,function(e,t){return t.toUpperCase()}),n=process.env[t];return n=!!/^(yes|on|true|enabled)$/i.test(n)||!/^(no|off|false|disabled)$/i.test(n)&&("null"===n?null:Number(n)),e[r]=n,e},{}),e.exports=common(t);var n=e.exports.formatters;n.o=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts).replace(/\s*\n\s*/g," ")},n.O=function(e){return this.inspectOpts.colors=this.useColors,util.inspect(e,this.inspectOpts)}}),node_1=node.init,node_2=node.log,node_3=node.formatArgs,node_4=node.save,node_5=node.load,node_6=node.useColors,node_7=node.colors,node_8=node.inspectOpts,src=createCommonjsModule(function(e){"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=browser:e.exports=node}),URL=url.URL,Writable=stream.Writable,debug$1=src("follow-redirects"),SAFE_METHODS={GET:!0,HEAD:!0,OPTIONS:!0,TRACE:!0},eventHandlers=Object.create(null);function RedirectableRequest(e,t){Writable.call(this),e.headers=e.headers||{},this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],e.host&&(e.hostname||(e.hostname=e.host),delete e.host),t&&this.on("response",t);var r=this;if(this._onNativeResponse=function(e){r._processResponse(e)},!e.pathname&&e.path){var n=e.path.indexOf("?");n<0?e.pathname=e.path:(e.pathname=e.path.substring(0,n),e.search=e.path.substring(n))}this._performRequest()}function startTimer(e,t){clearTimeout(e._timeout),e._timeout=setTimeout(function(){e.emit("timeout")},t)}function clearTimer(){clearTimeout(this._timeout)}function wrap(e){var t={maxRedirects:21,maxBodyLength:10485760},r={};return Object.keys(e).forEach(function(n){var o=n+":",s=r[o]=e[n],i=t[n]=Object.create(s);i.request=function(e,n,s){if("string"==typeof e){var i=e;try{e=urlToOptions(new URL(i))}catch(t){e=url.parse(i)}}else URL&&e instanceof URL?e=urlToOptions(e):(s=n,n=e,e={protocol:o});return"function"==typeof n&&(s=n,n=null),(n=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,n)).nativeProtocols=r,assert.equal(n.protocol,o,"protocol mismatch"),debug$1("options",n),new RedirectableRequest(n,s)},i.get=function(e,t,r){var n=i.request(e,t,r);return n.end(),n}}),t}function noop(){}function urlToOptions(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}["abort","aborted","error","socket","timeout"].forEach(function(e){eventHandlers[e]=function(t){this._redirectable.emit(e,t)}}),RedirectableRequest.prototype=Object.create(Writable.prototype),RedirectableRequest.prototype.write=function(e,t,r){if(this._ending)throw new Error("write after end");if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new Error("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(r=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,r)):(this.emit("error",new Error("Request body larger than maxBodyLength limit")),this.abort()):r&&r()},RedirectableRequest.prototype.end=function(e,t,r){if("function"==typeof e?(r=e,e=t=null):"function"==typeof t&&(r=t,t=null),e){var n=this,o=this._currentRequest;this.write(e,t,function(){n._ended=!0,o.end(null,null,r)}),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,r)},RedirectableRequest.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},RedirectableRequest.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},RedirectableRequest.prototype.setTimeout=function(e,t){if(t&&this.once("timeout",t),this.socket)startTimer(this,e);else{var r=this;this._currentRequest.once("socket",function(){startTimer(r,e)})}return this.once("response",clearTimer),this.once("error",clearTimer),this},["abort","flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach(function(e){RedirectableRequest.prototype[e]=function(t,r){return this._currentRequest[e](t,r)}}),["aborted","connection","socket"].forEach(function(e){Object.defineProperty(RedirectableRequest.prototype,e,{get:function(){return this._currentRequest[e]}})}),RedirectableRequest.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var r=e.substr(0,e.length-1);this._options.agent=this._options.agents[r]}var n=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o in this._currentUrl=url.format(this._options),n._redirectable=this,eventHandlers)o&&n.on(o,eventHandlers[o]);if(this._isRedirect){var s=0,i=this,a=this._requestBodyBuffers;!function e(t){if(n===i._currentRequest)if(t)i.emit("error",t);else if(s<a.length){var r=a[s++];n.finished||n.write(r.data,r.encoding,e)}else i._ended&&n.end()}()}}else this.emit("error",new Error("Unsupported protocol "+e))},RedirectableRequest.prototype._processResponse=function(e){this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:e.statusCode});var t=e.headers.location;if(t&&!1!==this._options.followRedirects&&e.statusCode>=300&&e.statusCode<400){if(this._currentRequest.removeAllListeners(),this._currentRequest.on("error",noop),this._currentRequest.abort(),++this._redirectCount>this._options.maxRedirects)return void this.emit("error",new Error("Max redirects exceeded."));var r,n=this._options.headers;if(307!==e.statusCode&&!(this._options.method in SAFE_METHODS))for(r in this._options.method="GET",this._requestBodyBuffers=[],n)/^content-/i.test(r)&&delete n[r];if(!this._isRedirect)for(r in n)/^host$/i.test(r)&&delete n[r];var o=url.resolve(this._currentUrl,t);debug$1("redirecting to",o),Object.assign(this._options,url.parse(o)),this._isRedirect=!0,this._performRequest(),e.destroy()}else e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),this._requestBodyBuffers=[]};var followRedirects=wrap({http:http,https:https}),wrap_1=wrap;followRedirects.wrap=wrap_1;var name="axios",version="0.18.0",description="Promise based HTTP client for the browser and node.js",main="index.js",scripts={test:"grunt test && bundlesize",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js"},repository={type:"git",url:"https://github.com/axios/axios.git"},keywords=["xhr","http","ajax","promise","node"],author="Matt Zabriskie",license="MIT",bugs={url:"https://github.com/axios/axios/issues"},homepage="https://github.com/axios/axios",devDependencies={bundlesize:"^0.5.7",coveralls:"^2.11.9","es6-promise":"^4.0.5",grunt:"^1.0.1","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.0.0","grunt-contrib-nodeunit":"^1.0.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^19.0.0","grunt-karma":"^2.0.0","grunt-ts":"^6.0.0-beta.3","grunt-webpack":"^1.0.18","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^1.3.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.0","karma-jasmine":"^1.0.2","karma-jasmine-ajax":"^0.1.13","karma-opera-launcher":"^1.0.0","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^1.1.0","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.7","karma-webpack":"^1.7.0","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",sinon:"^1.17.4",webpack:"^1.13.1","webpack-dev-server":"^1.14.1","url-search-params":"^0.6.1",typescript:"^2.0.3"},browser$1={"./lib/adapters/http.js":"./lib/adapters/xhr.js"},typings="./index.d.ts",dependencies={"follow-redirects":"^1.3.0","is-buffer":"^1.1.5"},bundlesize=[{path:"./dist/axios.min.js",threshold:"5kB"}],_package={name:name,version:version,description:description,main:main,scripts:scripts,repository:repository,keywords:keywords,author:author,license:license,bugs:bugs,homepage:homepage,devDependencies:devDependencies,browser:browser$1,typings:typings,dependencies:dependencies,bundlesize:bundlesize},_package$1=Object.freeze({name:name,version:version,description:description,main:main,scripts:scripts,repository:repository,keywords:keywords,author:author,license:license,bugs:bugs,homepage:homepage,devDependencies:devDependencies,browser:browser$1,typings:typings,dependencies:dependencies,bundlesize:bundlesize,default:_package}),pkg=getCjsExportFromNamespace(_package$1),httpFollow=followRedirects.http,httpsFollow=followRedirects.https,http_1=function(e){return new Promise(function(t,r){var n,o=e.data,s=e.headers;if(s["User-Agent"]||s["user-agent"]||(s["User-Agent"]="axios/"+pkg.version),o&&!utils.isStream(o)){if(Buffer.isBuffer(o));else if(utils.isArrayBuffer(o))o=new Buffer(new Uint8Array(o));else{if(!utils.isString(o))return r(createError("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));o=new Buffer(o,"utf-8")}s["Content-Length"]=o.length}var i=void 0;e.auth&&(i=(e.auth.username||"")+":"+(e.auth.password||""));var a=url.parse(e.url),u=a.protocol||"http:";if(!i&&a.auth){var c=a.auth.split(":");i=(c[0]||"")+":"+(c[1]||"")}i&&delete s.Authorization;var l="https:"===u,p=l?e.httpsAgent:e.httpAgent,d={path:buildURL(a.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method,headers:s,agent:p,auth:i};e.socketPath?d.socketPath=e.socketPath:(d.hostname=a.hostname,d.port=a.port);var f,h=e.proxy;if(!h&&!1!==h){var m=u.slice(0,-1)+"_proxy",g=process.env[m]||process.env[m.toUpperCase()];if(g){var v=url.parse(g);if(h={host:v.hostname,port:v.port},v.auth){var C=v.auth.split(":");h.auth={username:C[0],password:C[1]}}}}if(h&&(d.hostname=h.host,d.host=h.host,d.headers.host=a.hostname+(a.port?":"+a.port:""),d.port=h.port,d.path=u+"//"+a.hostname+(a.port?":"+a.port:"")+d.path,h.auth)){var w=new Buffer(h.auth.username+":"+h.auth.password,"utf8").toString("base64");d.headers["Proxy-Authorization"]="Basic "+w}e.transport?f=e.transport:0===e.maxRedirects?f=l?https:http:(e.maxRedirects&&(d.maxRedirects=e.maxRedirects),f=l?httpsFollow:httpFollow),e.maxContentLength&&e.maxContentLength>-1&&(d.maxBodyLength=e.maxContentLength);var b=f.request(d,function(o){if(!b.aborted){clearTimeout(n),n=null;var s=o;switch(o.headers["content-encoding"]){case"gzip":case"compress":case"deflate":s=s.pipe(zlib.createUnzip()),delete o.headers["content-encoding"]}var i=o.req||b,a={status:o.statusCode,statusText:o.statusMessage,headers:o.headers,config:e,request:i};if("stream"===e.responseType)a.data=s,settle(t,r,a);else{var u=[];s.on("data",function(t){u.push(t),e.maxContentLength>-1&&Buffer.concat(u).length>e.maxContentLength&&r(createError("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,i))}),s.on("error",function(t){b.aborted||r(enhanceError(t,e,null,i))}),s.on("end",function(){var n=Buffer.concat(u);"arraybuffer"!==e.responseType&&(n=n.toString("utf8")),a.data=n,settle(t,r,a)})}}});b.on("error",function(t){b.aborted||r(enhanceError(t,e,null,b))}),e.timeout&&!n&&(n=setTimeout(function(){b.abort(),r(createError("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",b))},e.timeout)),e.cancelToken&&e.cancelToken.promise.then(function(e){b.aborted||(b.abort(),r(e))}),utils.isStream(o)?o.pipe(b):b.end(o)})},DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return"undefined"!=typeof XMLHttpRequest?e=xhr:"undefined"!=typeof process&&(e=http_1),e}var defaults={adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e)?e:utils.isArrayBufferView(e)?e.buffer:utils.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],function(e){defaults.headers[e]={}}),utils.forEach(["post","put","patch"],function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults;function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(e){utils.forEach(this.handlers,function(t){null!==t&&e(t)})};var InterceptorManager_1=InterceptorManager,transformData=function(e,t,r){return utils.forEach(r,function(r){e=r(e,t)}),e},isCancel=function(e){return!(!e||!e.__CANCEL__)},isAbsoluteURL=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e};function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var dispatchRequest=function(e){return throwIfCancellationRequested(e),e.baseURL&&!isAbsoluteURL(e.url)&&(e.url=combineURLs(e.baseURL,e.url)),e.headers=e.headers||{},e.data=transformData(e.data,e.headers,e.transformRequest),e.headers=utils.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),utils.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||defaults_1.adapter)(e).then(function(t){return throwIfCancellationRequested(e),t.data=transformData(t.data,t.headers,e.transformResponse),t},function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})};function Axios(e){this.defaults=e,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function(e){"string"==typeof e&&(e=utils.merge({url:arguments[0]},arguments[1])),(e=utils.merge(defaults_1,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[dispatchRequest,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)r=r.then(t.shift(),t.shift());return r},utils.forEach(["delete","get","head","options"],function(e){Axios.prototype[e]=function(t,r){return this.request(utils.merge(r||{},{method:e,url:t}))}}),utils.forEach(["post","put","patch"],function(e){Axios.prototype[e]=function(t,r,n){return this.request(utils.merge(n||{},{method:e,url:t,data:r}))}});var Axios_1=Axios;function Cancel(e){this.message=e}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0;var Cancel_1=Cancel;function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new Cancel_1(e),t(r.reason))})}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var e;return{token:new CancelToken(function(t){e=t}),cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(t){return e.apply(null,t)}};function createInstance(e){var t=new Axios_1(e),r=bind(Axios_1.prototype.request,t);return utils.extend(r,Axios_1.prototype,t),utils.extend(r,t),r}var axios=createInstance(defaults_1);axios.Axios=Axios_1,axios.create=function(e){return createInstance(utils.merge(defaults_1,e))},axios.Cancel=Cancel_1,axios.CancelToken=CancelToken_1,axios.isCancel=isCancel,axios.all=function(e){return Promise.all(e)},axios.spread=spread;var axios_1=axios,default_1=axios;axios_1.default=default_1;var API,axios$1=axios_1;!function(e){e.baseURL="https://www.luogu.org",e.apiURL="/api",e.SEARCH_PROBLEM=(t=>e.apiURL+"/problem/detail"+`/${t}`),e.ACCESS_TOKEN="/OAuth2/accessToken"}(API||(API={}));const axios$2=axios$1.create({baseURL:API.baseURL}),searchProblem=e=>__awaiter(void 0,void 0,void 0,function*(){return axios$2.get(API.SEARCH_PROBLEM(e)).then(e=>e.data.data||null)});class LuoguChannel{constructor(){this.name="luogu",this.channel=vscode.window.createOutputChannel("luogu")}appendLine(e){this.channel.appendLine(e)}append(e){this.channel.append(e)}show(){this.channel.show()}clear(){this.channel.clear()}hide(){this.channel.hide()}dispose(){this.channel.dispose()}}const luoguChannel=new LuoguChannel;var DialogOptions,DialogType;function promptForOpenOutputChannel(e,t=DialogType.info,r=luoguChannel){return __awaiter(this,void 0,void 0,function*(){let n;switch(t){case DialogType.info:n=yield vscode.window.showInformationMessage(e,DialogOptions.open,DialogOptions.no);break;case DialogType.warning:n=yield vscode.window.showWarningMessage(e,DialogOptions.open,DialogOptions.no);break;case DialogType.error:n=yield vscode.window.showErrorMessage(e,DialogOptions.open,DialogOptions.no)}n===DialogOptions.open&&r.show()})}!function(e){e.open={title:"Open"},e.yes={title:"Yes"},e.no={title:"No",isCloseAffordance:!0},e.never={title:"Never"},e.singUp={title:"Sign up"}}(DialogOptions||(DialogOptions={})),function(e){e.info="info",e.warning="warning",e.error="error"}(DialogType||(DialogType={}));class Problem{constructor(e){this.stringPID="",this.tags=[],this.type=0,this.sample=[[]],this.inputFormat="",this.outputFormat="",this.name="",this.hint="",this.flag="",this.description="",this.background="",e&&(this.stringPID=e.StringPID,this.tags=e.Tags,this.type=e.Type,this.sample=e.Sample,this.inputFormat=e.InputFormat,this.outputFormat=e.OutputFormat,this.name=e.Name,this.hint=e.Hint,this.flag=e.Flag,this.description=e.Description,this.background=e.Background,this.translation=e.Translation)}toHTML(){let e="";return this.sample.forEach((t,r)=>{e+=`<strong>ËæìÂÖ•${r+1}</strong>:\n                    <p>\n                    ${t[0]}\n                    </p>\n                    <strong>ËæìÂá∫${r+1}</strong>:\n                    <p>\n                    ${t[1]}\n                    </p>\n                    `}),`\n        <!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>${this.name}</title>\n        </head>\n        <article id="editor-container" style="height: 100%; width: 100%">\n            <h1>${this.name}</h1>\n            <h2>È¢òÁõÆÊèèËø∞</h2>\n            <p>${this.translation||""}</p>\n            <p>${this.background}</p>\n            <p>${this.description}</p>\n            <h2>ËæìÂÖ•ËæìÂá∫Ê†ºÂºè</h2>\n            <strong>ËæìÂÖ•Ê†ºÂºè</strong>\n            <p>${this.inputFormat}</p>\n            <strong>ËæìÂá∫Ê†ºÂºè</strong>\n            <p>${this.outputFormat}</p>\n            <h2>ËæìÂÖ•ËæìÂá∫Ê†∑‰æã</h2>\n            ${e}\n            <h2>ËØ¥Êòé</h2>\n            <p>${this.hint}</p>\n        </article>\n        </html>`}toMarkDown(){console.log(this.translation);let e="";return this.sample.forEach((t,r)=>{e+=`ËæìÂÖ•${r+1} : \n \`\`\` \n ${t[0]} \n \`\`\` \n ËæìÂá∫${r+1} : \n \`\`\` \n ${t[1]} \n \`\`\` \n`}),` # ${this.name}| [${this.stringPID}](https://www.luogu.org/problemnew/show/${this.stringPID}) \n \n ${this.translation||""} \n \n ## È¢òÁõÆÊèèËø∞ \n \n ${this.background} \n \n ${this.description} \n \n ## ËæìÂÖ•ËæìÂá∫Ê†ºÂºè \n \n **ËæìÂÖ•Ê†ºÂºè** \n \n ${this.inputFormat} \n \n **ËæìÂá∫Ê†ºÂºè** \n \n ${this.outputFormat} \n \n ## ËæìÂÖ•ËæìÂá∫Ê†∑‰æã \n \n ${e} \n \n ## ËØ¥Êòé \n \n ${this.hint} \n`}}const generateHTML=e=>`\n<!DOCTYPE html>\n        <html lang="en">\n        <head>\n            <meta charset="UTF-8">\n            <meta name="viewport" content="width=device-width, initial-scale=1.0">\n            <title>${e.name}</title>\n            <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.12.0/build/styles/default.min.css">\n            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.9.0/katex.min.css">\n        </head>\n        <body>\n        ${marked(e.toMarkDown())}\n        </body>\n</html>`;var Search=new SuperCommand({onCommand:"searchProblem",handle:()=>__awaiter(void 0,void 0,void 0,function*(){const e=yield vscode.window.showInputBox({placeHolder:"ËæìÂÖ•È¢òÂè∑"}).then(e=>e?e.toUpperCase():null);if(!e)return void(yield promptForOpenOutputChannel("",DialogType.error));const t=yield searchProblem(e).then(e=>(console.log(e),e)).then(e=>new Problem(e));vscode.window.createWebviewPanel(t.stringPID,t.name,vscode.ViewColumn.Two).webview.html=generateHTML(t)})}),Submit=new SuperCommand({onCommand:"submitProblem",handle:()=>{}}),About=new SuperCommand({onCommand:"about",handle:()=>__awaiter(void 0,void 0,void 0,function*(){debug("About Command clicked."),yield promptForOpenOutputChannel("Ê¨¢Ëøé‰ΩøÁî®vscode-luogu \n\n ÂºÄÂèëËÄÖÔºöhimself65")})});const commands=[About,Search,Submit];function registerCommands(e){for(const t in commands){const r=commands[t];debug(`register command: ${r.onCommand}.`),e.subscriptions.push(vscode.commands.registerCommand(`luogu.${r.onCommand}`,()=>{r.callback()}))}debug("All commands registered.")}var UserStatus;!function(e){e[e.Login=1]="Login",e[e.Logout=2]="Logout"}(UserStatus||(UserStatus={}));class LuoguStatusBar{constructor(){debug("initializing luoguStatusBarItem."),this.statusBarItem=vscode.window.createStatusBarItem(),this.statusBarItem.command="luogu.userInfo",debug("init luoguStatusBarItem finished.")}updateStatusBar(e){switch(e){case UserStatus.Login:this.statusBarItem.text="Ê¥õË∞∑Â∑≤ÁôªÂΩï",this.statusBarItem.show();break;case UserStatus.Logout:default:this.statusBarItem.text="ÊöÇÊú™ÁôªÈôÜÊ¥õË∞∑Ë¥¶Êà∑",this.statusBarItem.show()}debug(`luoguStatusBarItem: userStatus ${UserStatus[e]}.`)}dispose(){debug("luoguStatusBarItem: dispose.")}}const luoguStatusBar=new LuoguStatusBar;function registerViews(e){e.subscriptions.push(luoguStatusBar,luoguChannel)}function activate(e){return __awaiter(this,void 0,void 0,function*(){debug("initializing luogu-vscode."),registerCommands(e),registerViews(e),console.log("init luogu-vscode success.")})}function deactivate(){}exports.activate=activate,exports.deactivate=deactivate;
